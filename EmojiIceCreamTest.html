<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì´ëª¨ì§€ ì•„ì´ìŠ¤í¬ë¦¼ í…ŒìŠ¤íŠ¸</title>
    <style>
        @font-face {
            font-family: 'Cafe24Ssurround';
            src: url('https://cdn.jsdelivr.net/gh/projectnoonnu/noonfonts_2105_2@1.0/Cafe24Ssurround.woff') format('woff');
            font-weight: normal;
            font-style: normal;
        }

        *{
            font-family: Cafe24Ssurround, Arial, sans-serif;
        }

        body, html {
            height: 100%;
            margin: 0;
        }

        .header {
            background-color: #f8a5c2;
            color: #fff;
            padding: 10px 20px;
            text-align: center;
            margin-bottom: 40px;
            font-size: 20px;
        }

        .container {
            max-width: 400px;
            margin: auto;
            padding-bottom: 60px;
        }

        .chat-container {
            border-radius: 10px;
            overflow: hidden;
            margin-bottom: 20px;
            
        }

        .message {
            display: flex;
            align-items: flex-start;
            margin: 14px 14px;
            opacity: 0;
            transform: translateY(10px);
            transition: opacity 0.5s ease, transform 0.5s ease;
        }


        .profile-pic {
            font-size: 2em;
            margin-right: 10px;
        }

        .message-content {
            max-width: 250px;
            flex-direction: row;
            background-color: #fddafb;
            padding: 10px;
            border-radius: 10px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .time {
            font-size: 0.8em;
            color: #777;
            margin-top: 5px;
            text-align: right;
        }

        .loading-container {
            text-align: center;
            padding: 20px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .footer {
            font-size: 10px;
            background-color: #f8f9fa;
            text-align: center;
            position: fixed;
            bottom: 0;
            width: 100%;
        }

        .btn{
            font-size: 17px;
            background-color: #ffffff;
            border: solid 2px black;
            margin: 3px;
            text-align: left;
            border-radius: 10px;
            width: auto;
            padding: 5px;
        }

        #Q{
            text-align: center;
        }

        #rnd{
            text-decoration: underline;
            color: #5e6409;
        }
        #tx{
            text-decoration: underline;
            color: #5e6409;
        }

    </style>
</head>
<body>
    <div class="header" onclick="window.location.href='./index.html'">
        ì´ëª¨ì§€ ì•„ì´ìŠ¤í¬ë¦¼ í…ŒìŠ¤íŠ¸
    </div>
    <div class="container">
        <div class="chat-container">
            <div class="message user-message">
                <div class="profile-pic">ğŸ¤—</div>
                <div class="message-content">
                    ì´ëª¨ì§€ ì•„ì´ìŠ¤í¬ë¦¼ í…ŒìŠ¤íŠ¸ì— ì˜¤ì‹ ê±¸ í™˜ì˜í•©ë‹ˆë‹¤!
                    <div class="time">10:01 AM</div>
                </div>
            </div>

            <div class="message">
                <div class="profile-pic">ğŸ§</div>
                <div class="message-content">
                    ì œ ì§ˆë¬¸ì— ë‹µí•´ì£¼ì‹œë©´ ë‹¹ì‹ ì—ê²Œ ë”± ë§ëŠ” <span id="tx">ì•„ì´ìŠ¤í¬ë¦¼</span>ì„ ì°¾ì•„ë“œë¦´ê²Œìš”!ğŸ˜
                    <div class="time">10:02 AM</div>
                </div>
            </div>

            <div class="message">
                <div class="profile-pic">ğŸ˜®</div>
                <div class="message-content">
                    ë‹¤ë¥¸ ë¶„ì€...<span id="rnd">1</span>ë¡œ ê²°ê³¼ê°€ ë‚˜ì™”ì–´ìš”!ğŸ‰
                    <div class="time">10:02 AM</div>
                </div>
            </div>

            <div class="message">
                <div class="profile-pic">ğŸ˜</div>
                <div class="message-content">
                    ê·¸ëŸ¼, ì‹œì‘í•˜ê² ìŠµë‹ˆë‹¤!
                    <div class="time">10:02 AM</div>
                </div>
            </div>

            <div class="message">
                <div class="profile-pic">ğŸ</div>
                <div class="message-content">
                    ì¢‹ì•„í•˜ëŠ” ê³¼ì¼ì€?
                    <div id="Q1">
                        <button class="btn" value="1">ğŸ“</button>
                        <button class="btn" value="2">ğŸŒ</button>
                        <button class="btn" value="3">ğŸ‡</button>
                        <button class="btn" value="4">ğŸŠ</button>
                    </div>
                    <div class="time">10:02 AM</div>
                </div>
            </div>

            <div class="message">
                <div class="profile-pic">ğŸ«</div>
                <div class="message-content">
                    ì¢‹ì•„í•˜ëŠ” ì´ˆì½œë¦¿ ì¢…ë¥˜ëŠ”?
                    <div id="Q2">
                        <button class="btn" value="1">ğŸ«ğŸ¥›</button>
                        <button class="btn" value="2">ğŸ«ğŸ¥œ</button>
                        <button class="btn" value="3">ğŸ«ğŸ¬</button>
                        <button class="btn" value="4">ğŸ«ğŸŠ</button>
                    </div>
                    <div class="time">10:02 AM</div>
                </div>
            </div>

            <div class="message">
                <div class="profile-pic">ğŸ§ƒ</div>
                <div class="message-content">
                    ì¢‹ì•„í•˜ëŠ” ìŒë£ŒëŠ”?
                    <div id="Q3">
                        <button class="btn" value="1">ğŸµ</button>
                        <button class="btn" value="2">ğŸ·</button>
                        <button class="btn" value="3">ğŸº</button>
                        <button class="btn" value="4">ğŸ¥¤</button>            
                    </div>                    
                    <div class="time">10:02 AM</div>
                </div>
            </div>

            <div class="message">
                <div class="profile-pic">ğŸ˜‹</div>
                <div class="message-content">
                    ì¢‹ì•„í•˜ëŠ” ìŒì‹ì€?
                    <div id="Q4">
                        <button class="btn" value="1">ğŸ”</button>
                        <button class="btn" value="2">ğŸ£</button>
                        <button class="btn" value="3">ğŸ¥—</button>
                        <button class="btn" value="4">ğŸ•</button>                  
                    </div>                    
                    <div class="time">10:02 AM</div>
                </div>
            </div>

            <div class="message">
                <div class="profile-pic">ğŸ‚</div>
                <div class="message-content">
                    ì¢‹ì•„í•˜ëŠ” ë””ì €íŠ¸ëŠ”?
                    <div id="Q5">
                        <button class="btn" value="1">ğŸª</button>
                        <button class="btn" value="2">ğŸ©</button>
                        <button class="btn" value="3">ğŸ°</button>
                        <button class="btn" value="4">ğŸ¥§</button>                     
                    </div>                    
                    <div class="time">10:02 AM</div>
                </div>
            </div>

            <div class="message">
                <div class="profile-pic">ğŸ’œ</div>
                <div class="message-content">
                    ì¢‹ì•„í•˜ëŠ” ìƒ‰ìƒì€?
                    <div id="Q6">
                        <button class="btn" value="1">ğŸ”´</button>
                        <button class="btn" value="2">ğŸ”µ</button>
                        <button class="btn" value="3">ğŸŸ¢</button>
                        <button class="btn" value="4">ğŸŸ¡</button>         
                    </div>                    
                    <div class="time">10:02 AM</div>
                </div>
            </div>
            
            <div class="message">
                <div class="profile-pic">ğŸ</div>
                <div class="message-content">
                    ì´ì œ ë§ˆì§€ë§‰ ì§ˆë¬¸ì…ë‹ˆë‹¤! ì¢‹ì•„í•˜ëŠ” ì•„ì´ìŠ¤í¬ë¦¼ì„ ì˜ í‘œí˜„í•˜ëŠ” ì´ëª¨ì§€ëŠ”?
                    <div id="Q7">
                        <button class="btn" value="1">ğŸ…</button>
                        <button class="btn" value="2">ğŸ¥¦</button>
                        <button class="btn" value="3">ğŸ¥•</button>
                        <button class="btn" value="4">ğŸŒ½</button>
                        <button class="btn" value="5">ğŸ¥”</button>
                        <button class="btn" value="6">ğŸ†</button>
                        <button class="btn" value="7">ğŸ </button>
                        <button class="btn" value="8">ğŸ¥¬</button>
                        <button class="btn" value="9">ğŸ¬</button>
                        <button class="btn" value="10">â˜•</button>
                    </div>                    
                    <div class="time">10:02 AM</div>
                </div>
            </div>

            <div class="message">
                <div class="profile-pic">ğŸ¤”</div>
                <div class="message-content">
                    ê³ ìƒí•˜ì…¨ìŠµë‹ˆë‹¤ğŸ‘ ì´ì œ ê²°ê³¼ë¥¼ ì•Œë ¤ë“œë¦´ê²Œìš”!
                    <div id="Q">
                        <button class="btn" id="end">ê²°ê³¼ í™•ì¸í•˜ëŸ¬ ê°€ê¸° (í„°ì¹˜!)</button><br>
                    </div>                    
                    <div class="time">10:02 AM</div>
                </div>
            </div>


            <div class="loading-container" id="loadingContainer" style="display:none;">
                <div class="loading"></div>
            </div>
        </div>
    </div>

    <footer class="footer">
        <p>2023 EmojiMindTest</p>
    </footer>

    <script>
        // í™”ë©´ ì´ë™ ê°ì²´
        var state = JSON.parse(localStorage.getItem('state'));


        var randomNumber = Math.floor(Math.random() * 10) + 1;
        if(randomNumber == 1){
            document.getElementById("rnd").textContent = "ğŸ«ì´ˆì½œë¦¿ë§› ì•„ì´ìŠ¤í¬ë¦¼ğŸ¦";
        } else if(randomNumber == 2){
            document.getElementById("rnd").textContent = "ğŸ“ë”¸ê¸°ë§› ì•„ì´ìŠ¤í¬ë¦¼ğŸ¦";
        } else if(randomNumber == 3){
            document.getElementById("rnd").textContent = "ğŸŒë°”ë‚˜ë‚˜ë§› ì•„ì´ìŠ¤í¬ë¦¼ğŸ¦";
        } else if(randomNumber == 4){
            document.getElementById("rnd").textContent = "ğŸ‹ë ˆëª¬ë§› ì•„ì´ìŠ¤í¬ë¦¼ğŸ¦";
        } else if(randomNumber == 5){
            document.getElementById("rnd").textContent = "ğŸ‡í¬ë„ë§› ì•„ì´ìŠ¤í¬ë¦¼ğŸ¦";
        } else if(randomNumber == 6){
            document.getElementById("rnd").textContent = "ğŸ¨ë¯¼íŠ¸ì´ˆì½”ë§› ì•„ì´ìŠ¤í¬ë¦¼ğŸ¦";
        } else if(randomNumber == 7){
            document.getElementById("rnd").textContent = "ğŸ‘ë³µìˆ­ì•„ë§› ì•„ì´ìŠ¤í¬ë¦¼ğŸ¦";
        } else if(randomNumber == 8){
            document.getElementById("rnd").textContent = "ğŸ‰ìˆ˜ë°•ë§› ì•„ì´ìŠ¤í¬ë¦¼ğŸ¦";
        } else if(randomNumber == 9){
            document.getElementById("rnd").textContent = "ğŸ’ì²´ë¦¬ë§› ì•„ì´ìŠ¤í¬ë¦¼ğŸ¦";
        } else{
            document.getElementById("rnd").textContent = "ğŸ¥­ë§ê³ ë§› ì•„ì´ìŠ¤í¬ë¦¼ğŸ¦";
        }

        // valueê°’ ì €ì¥ ê°ì²´
        var result = {
            Q1: 0,
            Q2: 0,
            Q3: 0,
            Q3: 0,
            Q4: 0,
            Q5: 0,
            Q6: 0,
        };

        function setupButtonListeners(questionId) {
            var buttons = document.querySelectorAll('#' + questionId + ' .btn');

            buttons.forEach(function(button) {
                button.addEventListener('click', function() {
                    buttons.forEach(function(btn) {
                        btn.style.backgroundColor = '';
                    });
                    button.style.backgroundColor = 'lightblue';

                    // í´ë¦­í•œ ë²„íŠ¼ì˜ value ê°’ì„ ì–»ì–´ì˜´
                    var value = button.value;

                    // value ê°’ì„ í™œìš©í•˜ì—¬ result ê°ì²´ ì—…ë°ì´íŠ¸
                    result[questionId] = value;
                });
            });
        }


        setupButtonListeners('Q1');
        setupButtonListeners('Q2');
        setupButtonListeners('Q3');
        setupButtonListeners('Q4');
        setupButtonListeners('Q5');
        setupButtonListeners('Q6');
        setupButtonListeners('Q7');




    document.addEventListener('DOMContentLoaded', function() {
    let messages = document.querySelectorAll('.message');

    function showMessages() {
        messages.forEach(function(message, index) {
            setTimeout(function() {
                message.style.opacity = 1;
                message.style.transform = 'translateY(0)';
            }, index * 1000);
        });
    }

    showMessages();
    });

    // ê²°ê³¼ í™•ì¸ ëˆ„ë¥´ë©´
    document.getElementById('end').addEventListener('click', function() {
        let endnutton = document.getElementById('end');
        endnutton.style.backgroundColor = 'lightblue';
        // result ê°ì²´ì˜ ê° í”„ë¡œí¼í‹°ê°€ 1 ì´ìƒì¸ì§€ í™•ì¸
        var isValid = Object.values(result).every(value => value >= 1);

        if (!isValid) {
            alert('ëª¨ë“  ë¬¸í•­ì— ë‹µë³€ì„ í•´ì£¼ì„¸ìš”!');
            console.log(result);
        } else{ // ëª¨ë“  ì…ë ¥ ì •ìƒì ìœ¼ë¡œ ì‘ë™í•˜ë©´
            //ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ì— ê°ì²´ ì €ì¥
            localStorage.setItem('result', JSON.stringify(result));

            // 1ì´ˆ ë’¤ ì´ë™
            setTimeout(function() {
                state.page = 20;
                localStorage.setItem('state', JSON.stringify(state)); // ê°ì²´ë¥¼ ë‚´ë¶€ ìŠ¤í† ë¦¬ì§€ì— ì €ì¥
                window.location.href = 'loading.html';
            }, 1000); // Change the delay time as needed
        }
    });


    </script>
</body>
</html>
