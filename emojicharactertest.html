<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>이모지 캐릭터 테스트</title>
    <style>
        @font-face {
            font-family: 'Cafe24Ssurround';
            src: url('https://cdn.jsdelivr.net/gh/projectnoonnu/noonfonts_2105_2@1.0/Cafe24Ssurround.woff') format('woff');
            font-weight: normal;
            font-style: normal;
        }

        *{
            font-family: Cafe24Ssurround, Arial, sans-serif;
        }

        body, html {
            height: 100%;
            margin: 0;
        }

        .header {
            background-color: #f8a5c2;
            color: #fff;
            padding: 10px 20px;
            text-align: center;
            margin-bottom: 40px;
            font-size: 20px;
        }

        .container {
            max-width: 400px;
            margin: auto;
            padding-bottom: 60px;
        }

        .chat-container {
            border-radius: 10px;
            overflow: hidden;
            margin-bottom: 20px;
            
        }

        .message {
            display: flex;
            align-items: flex-start;
            margin: 14px 14px;
            opacity: 0;
            transform: translateY(10px);
            transition: opacity 0.5s ease, transform 0.5s ease;
        }


        .profile-pic {
            font-size: 2em;
            margin-right: 10px;
        }

        .message-content {
            max-width: 250px;
            background-color: #fddafb;
            padding: 10px;
            border-radius: 10px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .time {
            font-size: 0.8em;
            color: #777;
            margin-top: 5px;
            text-align: right;
        }

        .loading-container {
            text-align: center;
            padding: 20px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .footer {
            font-size: 10px;
            background-color: #f8f9fa;
            text-align: center;
            position: fixed;
            bottom: 0;
            width: 100%;
        }

        .btn{
            font-size: 17px;
            background-color: #ffffff;
            border: solid 2px black;
            margin: 3px;
            text-align: left;
            border-radius: 10px;
            width: 100%;
            padding: 5px;
        }

        #Q{
            text-align: center;
        }

        #rnd{
            text-decoration: underline;
            color: #5e6409;
        }
        #tx{
            text-decoration: underline;
            color: #5e6409;
        }

    </style>
</head>
<body>
    <div class="header">
        이모지 캐릭터 테스트
    </div>
    <div class="container">
        <div class="chat-container">
            <div class="message user-message">
                <div class="profile-pic">🤗</div>
                <div class="message-content">
                    이모지 캐릭터테스트에 오신걸 환영합니다!
                    <div class="time">10:01 AM</div>
                </div>
            </div>

            <div class="message">
                <div class="profile-pic">🧐</div>
                <div class="message-content">
                    제 질문에 답해주시면 당신에게 딱 맞는 <span id="tx">이모지 캐릭터</span>를 알려드릴게요!😎
                    <div class="time">10:02 AM</div>
                </div>
            </div>

            <div class="message">
                <div class="profile-pic">😮</div>
                <div class="message-content">
                    다른 분은...<span id="rnd">1</span>로 결과가 나왔어요!🎉
                    <div class="time">10:02 AM</div>
                </div>
            </div>

            <div class="message">
                <div class="profile-pic">😝</div>
                <div class="message-content">
                    그럼, 시작하겠습니다!
                    <div class="time">10:02 AM</div>
                </div>
            </div>

            <div class="message">
                <div class="profile-pic">🛫</div>
                <div class="message-content">
                    여행을 좋아하시나요?
                    <div id="Q1">
                        <button class="btn" value="1" num="5">😁 네, 여행을 즐겨요!</button><br>
                        <button class="btn" value="2" num="3">🤔 가끔 여행을 즐겨요.</button><br>
                        <button class="btn" value="3" num="1">🤨 별로 여행을 선호하지 않아요</button><br>
                    </div>
                    <div class="time">10:02 AM</div>
                </div>
            </div>

            <div class="message">
                <div class="profile-pic">🔄</div>
                <div class="message-content">
                    예상치 못한 변화에 대처하는 데 어떤 스타일을 가지고 계신가요?
                    <div id="Q2">
                        <button class="btn" value="1" num="1">😮처음에는 놀라지만 끝내는 편이에요.</button><br>                  
                        <button class="btn" value="2" num="5">🚀빠르게 적응하고 대처해요.</button><br>
                        <button class="btn" value="3" num="3">🕰️조금은 시간이 필요하지만 적응해 나가요.</button><br>
                    </div>
                    <div class="time">10:02 AM</div>
                </div>
            </div>

            <div class="message">
                <div class="profile-pic">🎭</div>
                <div class="message-content">
                    자신의 감정을 솔직하게 표현하는 편인가요?
                    <div id="Q3">
                        <button class="btn" value="1" num="5">😊네, 솔직한 편이에요.</button><br>
                        <button class="btn" value="2" num="3">😐상황에 따라 다르게 표현해요.</button><br>
                        <button class="btn" value="3" num="1">🤐감정 표현이 어려운 편이에요.</button><br>               
                    </div>                    
                    <div class="time">10:02 AM</div>
                </div>
            </div>

            <div class="message">
                <div class="profile-pic">💭</div>
                <div class="message-content">
                    어떤 종류의 꿈을 가지고 싶으신가요?
                    <div id="Q4">
                        <button class="btn" value="1" num="5">🎨창조적이고 예술적인 꿈을 꾸고 싶어요.</button><br>
                        <button class="btn" value="2" num="3">🌌모험적인 꿈을 꾸고 싶어요.</button><br>
                        <button class="btn" value="3" num="1">🌿평화롭고 안정된 꿈을 꾸고 싶어요. </button><br>                   
                    </div>                    
                    <div class="time">10:02 AM</div>
                </div>
            </div>

            <div class="message">
                <div class="profile-pic">⏰</div>
                <div class="message-content">
                    만약 시간을 되돌릴 수 있다면, 어떤 시간으로 돌아가고 싶으신가요? 
                    <div id="Q5">
                        <button class="btn" value="1" num="5">🧒어린 시절의 순수한 시간으로 돌아가고 싶어요. </button><br>
                        <button class="btn" value="2" num="3">🤔중요한 결정을 내린 그 순간으로 돌아가고 싶어요. </button><br>
                        <button class="btn" value="3" num="1">🤨그 어떤 시간으로도 돌아가고 싶지 않아요. </button><br>                 
                    </div>                    
                    <div class="time">10:02 AM</div>
                </div>
            </div>

            <div class="message">
                <div class="profile-pic">🧠</div>
                <div class="message-content">
                    무언가를 배울 때, 어떤 방식이 가장 효과적으로 도움이 될 것 같나요?
                    <div id="Q6">
                        <button class="btn" value="1" num="5">🧪스스로 실험하며 배우기 </button><br>
                        <button class="btn" value="2" num="1">🎓선생님 또는 전문가의 지도 받기 </button><br>
                        <button class="btn" value="3" num="3">👥다른 사람들과 함께 토론하며 배우기 </button><br>
                    </div>                    
                    <div class="time">10:02 AM</div>
                </div>
            </div>

            <div class="message">
                <div class="profile-pic">🌆</div>
                <div class="message-content">
                    여행 중 길을 잃었을 때, 당신의 행동은 어떨 것 같나요?
                    <div id="Q7">
                        <button class="btn" value="1" num="5">🚶‍♂️주위를 둘러보며 길을 찾아본다.</button><br>
                        <button class="btn" value="2" num="3">🗺️도움을 청하거나 지도를 확인한다.</button><br>
                        <button class="btn" value="3" num="1">😅조금 혼란스러워하지만 차차 방향을 찾아간다.</button><br>                
                    </div>                    
                    <div class="time">10:02 AM</div>
                </div>
            </div>

            <div class="message">
                <div class="profile-pic">🤝</div>
                <div class="message-content">
                    새로운 사람들을 만날 때, 어떤 기대가 있나요?
                    <div id="Q8">
                        <button class="btn" value="3" num="1">🤔그때그때의 상황에 따라 다르겠죠.</button><br>              
                        <button class="btn" value="2" num="5">🌟새로운 관점과 경험을 얻고 싶어요.</button><br>
                        <button class="btn" value="1" num="3">❤️친밀한 관계를 형성하고 싶어요.</button><br>
                    </div>                    
                    <div class="time">10:02 AM</div>
                </div>
            </div>

            <div class="message">
                <div class="profile-pic">🍻</div>
                <div class="message-content">
                    친구들과 모인 술자리에서 당신의 역할은 어떤가요?
                    <div id="Q9">
                        <button class="btn" value="1" num="5">🗣️즐겁게 대화를 이끄는 편이에요. </button><br>
                        <button class="btn" value="2" num="3">🎧주로 듣는 편이지만 때로는 의견을 내어요. </button><br>
                        <button class="btn" value="3" num="1">🤔상황에 따라 다르게 행동해요. </button><br>                   
                    </div>                    
                    <div class="time">10:02 AM</div>
                </div>
            </div>

            <div class="message">
                <div class="profile-pic">🍛</div>
                <div class="message-content">
                    좋아하는 먹거리나 요리스타일을 고르라면 어떤가요?
                    <div id="Q10">
                        <button class="btn" value="2" num="3">🍔다양한 요리를 시도해보는 걸 좋아해요.</button><br>
                        <button class="btn" value="1" num="5">🥗건강하고 심플한 음식을 선호해요.</button><br>
                        <button class="btn" value="3" num="1">🍣내가 좋아하는 음식을 늘 먹어요.</button><br>                    
                    </div>                    
                    <div class="time">10:02 AM</div>
                </div>
            </div>
            
            <div class="message">
                <div class="profile-pic">🏁</div>
                <div class="message-content">
                    이제 마지막 질문입니다! 당신을 가장 잘 표현하는 이모지를 골라주세요!
                    <div id="Q11">
                        <button class="btn" value="1">🧨 폭탄</button><br>
                        <button class="btn" value="2">🎨 예술</button><br>
                        <button class="btn" value="3">🌻 꽃</button><br>
                        <button class="btn" value="4">😊 웃음</button><br>
                        <button class="btn" value="5">🥰 행복</button><br>
                        <button class="btn" value="6">🚗 자동차</button><br>
                        <button class="btn" value="7">⚡ 번개</button><br>
                        <button class="btn" value="8">😡 화남</button><br>
                    </div>                    
                    <div class="time">10:02 AM</div>
                </div>
            </div>

            <div class="message">
                <div class="profile-pic">🤔</div>
                <div class="message-content">
                    고생하셨습니다👍 이제 결과를 알려드릴게요!
                    <div id="Q">
                        <button class="btn" id="end">결과 확인하러가기 (터치!)🖱️</button><br>
                    </div>                    
                    <div class="time">10:02 AM</div>
                </div>
            </div>


            <div class="loading-container" id="loadingContainer" style="display:none;">
                <div class="loading"></div>
            </div>
        </div>
    </div>

    <footer class="footer">
        <p>2023 EmojiMindTest</p>
    </footer>

    <script>
        // 화면 이동 객체
        var state = JSON.parse(localStorage.getItem('state'));


        var randomNumber = Math.floor(Math.random() * 10) + 1;
        if(randomNumber == 1){
            document.getElementById("rnd").textContent = "👸로열 뷰티 퀸🌹으";
        } else if(randomNumber == 2){
            document.getElementById("rnd").textContent = "🧛‍♂️뱀파이어🦇";
        } else if(randomNumber == 3){
            document.getElementById("rnd").textContent = "🌌외계인 연구자👽";
        } else if(randomNumber == 4){
            document.getElementById("rnd").textContent = "🦄마법의 유니콘🌈으";
        } else if(randomNumber == 5){
            document.getElementById("rnd").textContent = "🌴코코넛 팔던 해변 상인🥥으";
        } else if(randomNumber == 6){
            document.getElementById("rnd").textContent = "🐸개구리 상담사💼";
        } else if(randomNumber == 7){
            document.getElementById("rnd").textContent = "🐿️다람쥐 심리학자🥜";
        } else if(randomNumber == 8){
            document.getElementById("rnd").textContent = "🤯뇌 폭발 예방자🌪️";
        } else if(randomNumber == 9){
            document.getElementById("rnd").textContent = "🦸‍♂️핫도그 히어로🌭";
        } else{
            document.getElementById("rnd").textContent = "🧜‍♂️우주 인어🌌";
        }

        // value값 저장 객체
        var result = {
            Q1: 0,
            Q2: 0,
            Q3: 0,
            Q3: 0,
            Q4: 0,
            Q5: 0,
            Q6: 0,
            Q7: 0,
            Q8: 0,
            Q9: 0,
            Q10: 0,
        };

        function setupButtonListeners(questionId) {
            var buttons = document.querySelectorAll('#' + questionId + ' .btn');

            buttons.forEach(function(button) {
                button.addEventListener('click', function() {
                    buttons.forEach(function(btn) {
                        btn.style.backgroundColor = '';
                    });
                    button.style.backgroundColor = 'lightblue';

                    // 클릭한 버튼의 value 값을 얻어옴
                    var value = button.value;

                    // value 값을 활용하여 result 객체 업데이트
                    result[questionId] = value;
                });
            });
        }


        setupButtonListeners('Q1');
        setupButtonListeners('Q2');
        setupButtonListeners('Q3');
        setupButtonListeners('Q4');
        setupButtonListeners('Q5');
        setupButtonListeners('Q6');
        setupButtonListeners('Q7');
        setupButtonListeners('Q8');
        setupButtonListeners('Q9');
        setupButtonListeners('Q10');
        setupButtonListeners('Q11');




    document.addEventListener('DOMContentLoaded', function() {
    let messages = document.querySelectorAll('.message');

    function showMessages() {
        messages.forEach(function(message, index) {
            setTimeout(function() {
                message.style.opacity = 1;
                message.style.transform = 'translateY(0)';
            }, index * 1000);
        });
    }

    showMessages();
    });

    // 결과 확인 누르면
    document.getElementById('end').addEventListener('click', function() {
        let endnutton = document.getElementById('Q');
        endnutton.style.backgroundColor = 'lightblue';
        // result 객체의 각 프로퍼티가 1 이상인지 확인
        var isValid = Object.values(result).every(value => value >= 1);

        if (!isValid) {
            alert('모든 문항에 답변을 해주세요!');
            console.log(result);
        } else{ // 모든 입력 정상적으로 작동하면
            //로컬 스토리지에 객체 저장
            localStorage.setItem('result', JSON.stringify(result));

            // 1초 뒤 이동
            setTimeout(function() {
                state.page = 10;
                localStorage.setItem('state', JSON.stringify(state)); // 객체를 내부 스토리지에 저장
                window.location.href = 'loading.html';
            }, 1000); // Change the delay time as needed
        }
    });


    </script>
</body>
</html>
